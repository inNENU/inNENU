<view class="carousel">
  <swiper
    class="{{config.class || ('item' + (config.fill ? '' : ' card'))}}"
    style="{{config.style}}"
    autoplay="{{config.autoplay !== false}}"
    interval="{{config.interval || '5000'}}"
    duration="{{config.duration || '500'}}"
    circular="{{config.circular !== false}}"
    vertical="{{config.vertical}}"
    previous-margin="{{config.preMargin || '0px'}}"
    next-margin="{{config.nextMargin || '0px'}}"
    catch:change="change"
    catch:animationfinish="animation"
  >
    <block wx:if="{{config.images}}">
      <swiper-item wx:for="{{config.images}}" wx:key="*this">
        <image
          class="{{config.imgClass || 'image'}}"
          mode="{{config.imgMode || 'aspectFill'}}"
          src="{{item}} "
          lazy-load
        />
      </swiper-item>
    </block>
    <block wx:else>
      <swiper-item
        wx:for="{{config.items}}"
        wx:key="cover"
        data-url="{{item.url}}"
        catch:tap="$bindGo"
      >
        <image
          class="{{item.imgClass || config.imgClass || 'image'}}"
          src="{{config.image}}"
          mode="{{item.imgMode || config.imgMode || 'aspectFill'}}"
          style="{{item.style}}"
          lazy-load
        />
      </swiper-item>
    </block>
  </swiper>

  <view
    wx:if="{{config.indicatorDots !== false && config.images.length > 1}}"
    class="carousel-dots{{(config.fill ? '' : ' card')}}"
  >
    <view
      wx:for="{{config.images}}"
      wx:key="*this"
      class="dot {{index === current ? 'active' : ''}}"
      style="background-color: {{config.dotColor || '#fff'}}"
    />
  </view>
</view>
