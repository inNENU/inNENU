<wxs src="../utils/courseTable.wxs" module="utils" />
<page-meta
  background-text-style="{{darkmode ? 'dark' : 'light'}}"
  background-color="{{color.bgColor}}"
  background-color-top="{{color.bgColorTop}}"
  background-color-bottom="{{color.bgColorBottom}}"
  root-background-color="{{color.bgColor}}"
/>
<view class="{{theme}} course-table-wrapper">
  <header title="课程表" />

  <view class="course-table-actions"></view>
  <view class="course-table">
    <view class="course-table-header">
      <view class="course-row-header"></view>
      <view
        wx:for="{{utils.weeks}}"
        wx:key="*this"
        class="course-table-header-item"
      >
        {{item}}
      </view>
    </view>
    <view class="course-table-body">
      <view
        class="course-table-row"
        wx:for="{{courseTable}}"
        wx:for-item="row"
        wx:for-index="rowIndex"
      >
        <view class="course-row-header"> {{utils.times[rowIndex]}} </view>
        <view
          class="course-table-item"
          wx:for="{{row}}"
          wx:for-item="cell"
          wx:for-index="columnIndex"
        >
          <view
            wx:for="{{cell}}"
            wx:for-item="class"
            wx:for-index="classIndex"
            wx:key="cid"
            class="course-table-course-item"
            data-row="{{rowIndex}}"
            data-column="{{columnIndex}}"
            data-cell="{{classIndex}}"
            data-class="{{class}}"
            catch:tap="showClassInfo"
          >
            <view>{{class.name}}</view>
            <view>{{class.location}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
